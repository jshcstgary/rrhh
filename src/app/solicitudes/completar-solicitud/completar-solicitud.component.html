<form #SolicitudForm="ngForm">
  <div class="card">
    <h2 class="card-body text-start">
      <div class="row">
        <!--<div class="col-md-8">
              <b style="color: rgb(227, 199, 22);font-size: 20px; margin: 20px;">Mantenimiento de rutas</b>
          </div>-->
        <div class="col-md-8">
          <div class="mb-3">
            <a (click)="pageSolicitudes()">
              <h3 class="danger">
                <i class="bi bi-arrow-left-circle azul"></i> Bandeja de
                solicitudes
              </h3></a
            >
          </div>
        </div>

        <div class="col-md-4 text-end">
          <!--<button style="margin: 10px;color: black;" type="button" (click)="modal.dismiss('Cross click')"
                  class="mr-10 fz-14 btn btn-outline-secondary btn-icon-end">Cancelar
              </button>-->
          <button
            (click)="onSubmit()"
            type="button"
            class="btn btn-info me-2"
            aria-label="Close"
          >
            <i class="fas fa-check"></i> Guardar
          </button>
          <!-- <button (click)="rechazar()" type="button" class="btn btn-info me-2">
            <i class="fas fa-times"></i> Rechazar
          </button> -->
          <!-- <button type="button" class="btn btn-info me-2">
            <i class="fas fa-times"></i> Anular
          </button> -->
          <!-- <button
            (click)="guardarSolicitud()"
            type="button"
            class="mr-10 fz-14 btn btn-info btn-icon-end"
            aria-label="Close"
            aria-label="Close"
          >
            <i class="fas fa-save"></i> Guardar
          </button> -->
          <!-- <button
            type="submit"
            class="mr-10 fz-14 btn btn-info btn-icon-end"
            aria-label="Close"
            aria-label="Close"
          >
            <i class="fas fa-save"></i> Aprobar
          </button> -->
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-3">
          <div class="mb-4">
            <a> <h3 class="danger">Información general</h3></a>
          </div>
        </div>
        <div class="col-md-9">
          <hr />
        </div>
      </div>

      <!-- Row 1 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipoSolicitud"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de solicitud</label
            >
            &nbsp;
            <span
              #mivar
              id="tipoSolicitud"
              name="idTipoSolicitud"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ tipo_solicitud_descripcion }}</span
            >
            <!-- {{ mivar.textContent }} -->
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipomotivo"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de motivo</label
            >
            &nbsp;
            <span
              id="tipomotivo"
              name="tipomotivo"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ tipo_motivo_descripcion }}</span
            >
          </div>
        </div>
      </div>

      <!-- Row 2 -->
      <!-- <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="codigoposicion"
              style="color: black; font-size: 14px; width: 45%"
              >Código de posición</label
            >
            &nbsp;
            <input
              type="text"
              name="codigoposicion"
              [(ngModel)]="model.codigoPosicion"
              (input)="onInputChange('codigoPosicion', $event.target)"
              class="form-control"
              id="codigoposicion"
              aria-describedby="inputGroupPrepend"
              required
            />
            <div *ngIf="suggestions.length > 0" class="autocomplete-items">
              <div *ngFor="let suggestion of suggestions" (click)="selectSuggestion(suggestion)">
                {{ suggestion }}
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nombreempleado"
              style="color: black; font-size: 14px; width: 45%"
              >Nombre de empleado</label
            >
            <select
              id="nombreempleado"
              name="nombreempleado"
              class="form-select"
              [(ngModel)]="model.nombreCompleto"
              (ngModelChange)="filtrarDatos('nombreCompleto', $event)"
              style="font-size: 14px"
              required
            >
              <option selected>MOROCHO VARGAS CAL ESTUARIO</option>
              <option>MOROCHO VARGAS CAL ESTUARIO</option>
              <option>Ramiro Andrade</option>
            </select>
          </div>
        </div>
      </div> -->

      <!-- Row 2 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="codigoposi








              cion"
              style="color: black; font-size: 14px; width: 45%"
              >Código de posición</label
            >

            <!-- <input
              type="text"
              name="codigoposicion"
              [(ngModel)]="model.codigoPosicion"
              style="color: black; font-size: 14px; width: 45%"
              (input)="extractData('codigoPosicion', $event.target, 'input')"
              class="form-control"
              id="codigoposicion"
              aria-describedby="inputGroupPrepend"
              required
            /> -->
            &nbsp;
            <select
              id="codigoposicion"
              name="codigoposicion"
              class="form-select"
              [(ngModel)]="model.codigoPosicion"
              (ngModelChange)="filtrarDatos('codigoPosicion', $event)"
              style="font-size: 14px"
              required
              [disabled]="tipo_motivo_descripcion === 'Reemplazo'"
            >
              <option
                *ngFor="let codigoPosicion of codigosPosicion"
                [value]="codigoPosicion"
              >
                {{ codigoPosicion }}
              </option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="descripcionposicion"
              style="color: black; font-size: 14px; width: 45%"
              >Descripción de posición</label
            >
            &nbsp;
            <span
              id="descripcionposicion"
              name="descripcionposicion"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.descrPosicion }}</span
            >
          </div>
        </div>
      </div>

      <!-- Row 3 -->
      <div class="row" *ngIf="tipo_motivo_descripcion === 'Reemplazo'">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="subledger"
              style="color: black; font-size: 14px; width: 45%"
              >Subledger</label
            >
            <select
              id="subledger"
              name="subledger"
              class="form-select"
              [(ngModel)]="model.subledger"
              (ngModelChange)="filtrarDatos('subledger', $event)"
              style="font-size: 14px"
              required
            >
              <option *ngFor="let subledger of subledgers" [value]="subledger">
                {{ subledger }}
              </option>
            </select>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nombreempleado"
              style="color: black; font-size: 14px; width: 45%"
              >Empleado</label
            >
            &nbsp;
            <select
              id="nombreempleado"
              name="nombreempleado"
              class="form-select"
              [(ngModel)]="model.nombreCompleto"
              (ngModelChange)="filtrarDatos('nombreCompleto', $event)"
              style="font-size: 14px"
              required
            >
              <option
                *ngFor="let empleado of nombresEmpleados"
                [value]="empleado"
              >
                {{ empleado }}
              </option>
            </select>
          </div>
        </div>
      </div>

      <!-- Row 4 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="compania"
              style="color: black; font-size: 14px; width: 45%"
              >Compañía</label
            >
            <span
              id="compania"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.compania }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="unidadnegocio"
              style="color: black; font-size: 14px; width: 45%"
              >Unidad de negocio</label
            >
            <span
              id="unidadnegocio"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.unidadNegocio }}</span
            >
          </div>
        </div>
      </div>

      <!-- Row 5 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="departamento"
              style="color: black; font-size: 14px; width: 45%"
              >Área/departamento</label
            >
            <span
              id="departamento"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.departamento }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipocargo"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de cargo</label
            >
            <span
              id="cargo"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nombreCargo }}</span
            >
          </div>
        </div>
      </div>

      <!-- Row 6 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="localidadzona"
              style="color: black; font-size: 14px; width: 45%"
              >Localidad zona</label
            >
            <span
              id="localidadzona"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.localidad }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="niveldirección"
              style="color: black; font-size: 14px; width: 45%"
              >Nivel de dirección</label
            >
            <span
              id="niveldirección"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nivelDir }}</span
            >
          </div>
        </div>
      </div>

      <!-- Row 7 -->
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="centrocosto"
              style="color: black; font-size: 14px; width: 45%"
              >Centro de costo</label
            >
            <span
              id="centrocosto"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nomCCosto }}</span
            >
          </div>
        </div>
        <div
          class="col-md-6"
          *ngIf="
            tipo_motivo_descripcion === 'Nuevo' ||
            tipo_motivo_descripcion === 'Eventual'
          "
        >
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="misioncargo"
              style="color: black; font-size: 14px; width: 45%"
              >Misión del cargo</label
            >
            <input
              type="text"
              name="sueldo"
              [(ngModel)]="model.misionCargo"
              class="form-control"
              id="misioncargo"
            />
          </div>
        </div>
      </div>
      <div
        class="row"
        *ngIf="
          tipo_motivo_descripcion === 'Nuevo' ||
          tipo_motivo_descripcion === 'Eventual'
        "
      >
        <div class="col">
          <div class="input-group mb-3 contenedor">
            <label
              class="input-group-text"
              for="justificacion"
              style="color: black; font-size: 14px; width: 22%"
              >Justificación</label
            >
            &nbsp;
            <textarea
              id="justificacion"
              name="justificacion"
              [(ngModel)]="model.justificacion"
              style="color: black; font-size: 14px"
            ></textarea>
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Funciones y responsabilidades</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="reporta"
              style="color: black; font-size: 14px; width: 45%"
              >Reporta a</label
            >
            &nbsp;
            <span
              id="reporta"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.reportaA }}
            </span>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="supervisaa"
              style="color: black; font-size: 14px; width: 45%"
              >Supervisa a</label
            >
            &nbsp;
            <span
              id="supervisaa"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.supervisaA }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipocontrato"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de contrato</label
            >
            &nbsp;
            <select
              id="tipocontrato"
              name="tipocontrato"
              class="form-select"
              [(ngModel)]="model.tipoContrato"
              style="font-size: 14px"
              required
            >
              <option selected>Eventual</option>
              <option>Temporal</option>
              <option>Mixto</option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nivelRepa"
              style="color: black; font-size: 14px; width: 45%"
              >Nivel de reporte</label
            >
            &nbsp;
            <span
              id="nivelRepa"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nivelRepa }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="sueldo"
              style="color: black; font-size: 14px; width: 45%"
              >Sueldo</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldo"
              type="text"
              name="sueldo"
              class="form-control"
              id="sueldo"
            />
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger fs-4">Tipo de variable</h3></a>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="mensual"
              style="color: black; font-size: 14px; width: 45%"
              >Mensual</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.mensual"
              type="text"
              name="mensual"
              class="form-control"
              id="mensual"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="trimestral"
              style="color: black; font-size: 14px; width: 45%"
              >Trimestral</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.trimestral"
              type="text"
              name="trimestral"
              class="form-control"
              id="trimestral"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="semestral"
              style="color: black; font-size: 14px; width: 45%"
              >Semestral</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.semestral"
              type="text"
              name="semestral"
              class="form-control"
              id="semestral"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="anual"
              style="color: black; font-size: 14px; width: 45%"
              >Anual</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.anual"
              type="text"
              name="anual"
              class="form-control"
              id="anual"
            />
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Aprobadores de la solicitud</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="accordion" id="accordionExample">
        <!-- Repeat this (start) -->
        <div
          *ngFor="let nivel of dataNivelesAprobacion; let i = index"
          class="accordion-item"
        >
          <h2 class="accordion-header">
            <button
              class="accordion-button"
              type="button"
              data-bs-toggle="collapse"
              [attr.data-bs-target]="'#collapse' + i"
              aria-expanded="true"
              [attr.aria-controls]="'collapse' + i"
              style="display: block"
            >
              <div
                class="row"
                style="align-items: center; justify-content: space-around"
              >
                <div class="col">{{ nivel.ruta }}</div>
                <div class="col">
                  {{
                    nivel.usuarioCreacion !== ""
                      ? nivel.usuarioCreacion
                      : "user"
                  }}
                </div>
                <div class="col">{{ nivel.nivelAprobacionRuta }}</div>
              </div>
            </button>
          </h2>

          <div
            [id]="'collapse' + i"
            class="accordion-collapse collapse"
            [ngClass]="{ show: i === 0 }"
            data-bs-parent="#accordionExample"
          >
            <div class="row mt-2">
              <div class="col">
                <div class="input-group mb-3">
                  <label
                    for="lvl1descripcion"
                    style="color: #0056b3; font-size: 14px; margin: auto auto"
                  >
                    Descripción de la posición
                  </label>
                  &nbsp;
                  <span
                    id="lvl1descripcion"
                    name=""
                    style="color: black; font-size: 14px; margin: auto auto"
                    class="text-center"
                    >{{ nivel.accion }}</span
                  >
                </div>
              </div>
            </div>
            <!-- <div class="row mt-2">
              <div class="col">
                <div class="input-group mb-3">
                  <label
                    for="lvl1comentarios"
                    style="color: #0056b3; font-size: 14px; margin: auto auto"
                  >
                    Comentarios
                  </label>
                  &nbsp;
                  <span
                    id="lvl1comentarios"
                    name=""
                    style="color: black; font-size: 14px; margin: auto auto"
                    class="text-center"
                    >No applica</span
                  >
                </div>
              </div>
            </div> -->
          </div>
        </div>
        <!-- Repeat this (end) -->
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Atención de los probadores</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="aprobadoresdinamicos"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Aprobadores dinámicos
            </label>
            &nbsp;
            <span
              id="aprobadoresdinamicos"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.aprobadoresDinamicos }}</span
            >
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="gerenterrhhcorporativo"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Gerente de RRHH Corporativo
            </label>
            &nbsp;
            <span
              id="gerenterrhhcorporativo"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.gerenteRRHHCorporativo }}</span
            >
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="comitederemuneraciones"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Comité de Remuneraciones
            </label>
            &nbsp;
            <span
              id="comitederemuneraciones"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.comiteRemuneraciones }}</span
            >
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Selección de candidato</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nivelesDeAprobacion"
              style="color: black; font-size: 14px; width: 45%"
              >Compañía</label
            >
            <span
              id="nivelesDeAprobacion"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >1 &nbsp; Supervisor &nbsp; abletran</span
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="procesarsolicitud"
              style="color: black; font-size: 14px; width: 22%"
              >Procesar solicitud</label
            >
            &nbsp;
            <!-- <div class="col-md-4 text-end" *ngIf="showCreateButton">
              <button type="button" class="btn btn-info" (click)="onCreateRow()">
                <i class="fas fa-plus"></i> Agregar
              </button>
            </div> -->
            <div
              class="btn-group"
              role="group"
              aria-label="Basic radio toggle button group"
            >
              <input
                type="radio"
                class="btn-check"
                name="btnradio"
                id="btnradio1"
                autocomplete="off"
                checked
                [(ngModel)]="modelRevisarData.reviewAction"
                value="approve"
              />
              <label class="btn btn-primary" for="btnradio1">Aprobar</label>

              <input
                type="radio"
                class="btn-check"
                name="btnradio"
                id="btnradio2"
                autocomplete="off"
                [(ngModel)]="modelRevisarData.reviewAction"
                value="reject"
              />
              <label class="btn btn-primary" for="btnradio2">Rechazar</label>

              <!-- <input
                type="radio"
                class="btn-check"
                name="btnradio"
                id="btnradio3"
                autocomplete="off"
                [(ngModel)]="modelRevisarData.reviewAction"
                value="onHold"
              />
              <label class="btn btn-primary" for="btnradio3">En espera</label> -->
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="input-group mb-3 contenedor">
            <label
              class="input-group-text"
              for="observacion"
              style="color: black; font-size: 14px; width: 22%"
              >Observación</label
            >
            &nbsp;
            <textarea
              [(ngModel)]="modelRevisarData.reviewObservations"
              id="observacion"
              name="observacion"
              placeholder="Campo obligatorio"
              style="color: black; font-size: 14px"
            ></textarea>
          </div>
        </div>
      </div>
    </h2>
    <!-- <app-spinner></app-spinner> -->
  </div>
</form>
