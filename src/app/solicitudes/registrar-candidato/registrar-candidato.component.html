<form (ngSubmit)="onSubmit()" #SolicitudForm="ngForm" #solicitudForm="ngForm">
	<div class="card">
		<h2 class="card-body text-start">
			<div class="header-solicitud">
				<div class="row">
					<div class="col-md-8">
						<div class="mb-3">
							<h3 class="sol-danger">
								<a routerLink="/tareas/consulta-tareas"> <i class="bi bi-arrow-left-circle azul"></i> {{ solicitud.idSolicitud }} </a>
							</h3>
						</div>
					</div>

					<div class="col text-end">
						<button *ngIf="existeMatenedores" type="button" (click)="openModalReasignarUsuario()" class="btn btn-info me-2 mt-1"><i class="fas fa-redo"></i> Reasignar</button>

						<!-- <button *ngIf="!existeMatenedores || existe" type="button" (click)="saveCandidato()" class="btn btn-info me-2 mt-1" aria-label="Close" [disabled]="model.tipoProceso === '' && tipoProcesoSaved === ''"><i class="fas fa-save"></i> Guardar</button> -->
						<button *ngIf="!existeMatenedores || existe" type="button" (click)="saveCandidato()" class="btn btn-info me-2 mt-1" aria-label="Close"><i class="fas fa-save"></i> Guardar</button>

						<button *ngIf="!existeMatenedores || existe" type="button" (click)="onCompletar()" class="btn btn-info me-2 mt-1" [disabled]="!disabledFechas.actualizacionPerfil || !disabledFechas.busquedaCandidatos || !disabledFechas.entrevista || !disabledFechas.pruebas || !disabledFechas.referencias || !disabledFechas.elaboracionInforme || !disabledFechas.entregaJefe || !disabledFechas.entrevistaJefatura || !disabledFechas.tomaDecisiones || !disabledFechas.candidatoSeleccionado || !disabledFechas.procesoContratacion || !disabledFechas.finProcesoContratacion || candidatoLleno"><i class="fas fa-check-circle"></i> Enviar Solicitud</button>
					</div>
				</div>

				<div class="row mt-4">
					<div class="col-md-4">
						<div class="input-group mb-3 align-items-center">
							<label class="label-estilo" for="origin">Creado por:</label>

							<span id="origin" name="" style="color: black; font-size: 14px" class="text-start">{{ solicitud.usuarioCreacion }}</span>
						</div>
					</div>

					<div class="col-md-4">
						<div class="input-group mb-3 align-items-center">
							<label class="label-estilo" for="unidadnegocio">Fecha:</label>

							<span id="date" name="" style="color: black; font-size: 14px" class="text-start">{{ this.solicitud.fechaCreacion | date : "yyyy/MM/dd" }}</span>
						</div>
					</div>

					<div class="col-md-4">
						<div class="input-group mb-3 align-items-center">
							<label class="label-estilo" for="unidadnegocio">Nro. Solicitud:</label>

							<span id="solicitud" name="" style="color: black; font-size: 14px" class="text-start">{{ solicitud.idSolicitud }}</span>
						</div>
					</div>
				</div>

				<hr />
			</div>

			<div class="after-header-solicitud"></div>

			<!-- ! Información General -->
			<app-solicitud-seccion-desplegable titleSummary="Información General">
				<div>
					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="tipoSolicitud">Tipo de solicitud</label>

								<span #mivar id="tipoSolicitud" name="idTipoSolicitud" style="color: black; font-size: 14px" class="text-start w-50">{{ solicitud.tipoSolicitud }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="tipomotivo">Tipo de motivo</label>

								<span id="tipomotivo" name="tipomotivo" style="color: black; font-size: 14px" class="text-start w-50">{{ solicitud.tipoMotivo }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="codigoposicion">Código de posición</label>

								<span id="codigoposicion" name="codigoposicion" style="color: black; font-size: 14px" class="text-start w-50">{{ model.codigoPosicion }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo2" for="descripcionposicion">Descripción de posición</label>

								<span id="descripcionposicion" name="descripcionposicion" style="color: black; font-size: 14px" class="text-start w-75">{{ model.descrPosicion }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="subledger"> Subledger </label>

								<span id="subledger" name="subledger" style="color: black; font-size: 14px" class="text-start w-50">{{ model.subledger }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="nombreempleado"> Empleado </label>

								<span id="nombreempleado" name="nombreempleado" style="color: black; font-size: 14px" class="text-start w-50">{{ model.nombreCompleto }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo2" for="compania">Compañía</label>

								<span id="compania" name="" style="color: black; font-size: 14px" class="text-start w-75">{{ model.compania }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="unidadnegocio">Unidad de negocio</label>

								<span id="unidadnegocio" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.unidadNegocio }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="departamento">Área/Departamento</label>

								<span id="departamento" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.departamento }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="tipocargo">Tipo de cargo</label>

								<span id="cargo" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.nombreCargo }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="localidadzona">Localidad/Zona</label>

								<span id="localidadzona" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.localidad }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="niveldirección">Nivel de dirección</label>

								<span id="niveldirección" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.nivelDir }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="centrocosto">Centro de costo</label>

								<span id="centrocosto" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.nomCCosto }}</span>
							</div>
						</div>
					</div>

					<div class="row" *ngIf="mostrarTipoJustificacionYMision">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="misioncargo">Misión del cargo</label>

								<span id="misioncargo" name="misioncargo" style="color: black; font-size: 14px" class="text-start w-50">{{ model.misionCargo }}</span>
							</div>
						</div>
					</div>

					<div class="row" *ngIf="mostrarTipoJustificacionYMision">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo2" for="justificacion">Justificación</label>

								<span id="justificacion" name="justificacion" style="color: black; font-size: 14px" class="text-start w-75">{{ model.justificacionCargo }}</span>
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>

			<!-- ! Funciones y responsabildiades -->
			<app-solicitud-seccion-desplegable titleSummary="Funciones y responsabildiades">
				<div>
					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 aling-items-center">
								<label class="input-group-text text-start label-estilo2" for="reporta">Reporta a</label>

								<span id="reporta" name="" style="color: black; font-size: 14px" class="text-start">{{ model.reportaA }} </span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 aling-items-center">
								<label class="input-group-text text-start label-estilo" for="tipocontrato">Tipo de contrato</label>

								<span id="tipocontrato" name="tipocontrato" style="color: black; font-size: 14px" class="text-start w-50">{{ model.tipoContrato }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 aling-items-center">
								<label class="input-group-text text-start label-estilo" for="nivelRepa">Nivel de reporte</label>

								<span id="nivelRepa" name="" style="color: black; font-size: 14px" class="text-start w-50">{{ model.nivelRepa }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 aling-items-center w-100">
								<label class="input-group-text text-start label-estilo2" for="supervisaa">Supervisa a</label>

								<span id="supervisaa" name="" style="color: black; font-size: 14px" class="text-start w-75">{{ model.supervisaA }}</span>
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>

			<!-- ! Tipo de variables -->
			<app-solicitud-seccion-desplegable titleSummary="Sueldo/Tipo de variable">
				<div>
					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 aling-items-center">
								<label class="input-group-text text-start label-estilo" for="sueldo">Sueldo</label>

								<span id="sueldo" name="sueldo" style="color: black; font-size: 14px" class="text-start w-50">$ {{ model.sueldo | number : "1.2-2" }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="mensual">Mensual</label>

								<span id="mensual" name="mensual" style="color: black; font-size: 14px" class="text-start w-50">$ {{ model.sueldoMensual | number : "1.2-2" }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="trimestral">Trimestral</label>

								<span id="trimestral" name="trimestral" style="color: black; font-size: 14px" class="text-start w-50">$ {{ model.sueldoTrimestral | number : "1.2-2" }}</span>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="semestral">Semestral</label>

								<span id="semestral" name="semestral" style="color: black; font-size: 14px" class="text-start w-50">$ {{ model.sueldoSemestral | number : "1.2-2" }}</span>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="anual">Anual</label>

								<span id="anual" name="anual" style="color: black; font-size: 14px" class="text-start w-50">$ {{ model.sueldoAnual | number : "1.2-2" }}</span>
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>

			<!-- ! Atención de los aprobadores -->
			<app-solicitud-seccion-desplegable titleSummary="Atención de los aprobadores">
				<div>
					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-start">
								<label class="input-group-text text-start label-estilo2">Aprobadores dinámicos</label>

								<div class="w-75">
									<div class="row mb-3" *ngFor="let item of dataComentariosAprobaciones">
										<span style="color: black; font-size: 14px" class="text-start">{{ item.text }}</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-start">
								<label class="input-group-text text-start label-estilo2">Gerente de RRHH Corporativo</label>

								<div class="w-75">
									<div class="row mb-3" *ngFor="let item of dataComentariosAprobacionesRRHH">
										<span style="color: black; font-size: 14px">{{ item.text }}</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-start">
								<label class="input-group-text text-start label-estilo2">Comité de Remuneraciones</label>

								<div class="w-75">
									<div class="row mb-3" *ngFor="let item of dataComentariosAprobacionesCREM">
										<span style="color: black; font-size: 14px">{{ item.text }}</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>

			<!-- ! Selección de candidato -->
			<app-solicitud-seccion-desplegable titleSummary="Selección de candidato" [isOpen]="true">
				<div>
					<div class="row">
						<div class="col-md-4 d-flex align-items-center">
							<input id="input1" type="checkbox" [(ngModel)]="isCheckedPerfil" (change)="onCheckboxChangeCandidato($event)" name="checkPerfil" [disabled]="disabledFechas.actualizacionPerfil" />

							<label for="input1" class="input-group-text adjustable-label">Actualización del perfil</label>

							<input type="text" class="form-control" [value]="fechas.actualizacionPerfil" name="perfil" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input2" type="checkbox" [(ngModel)]="isCheckedBusquedaCandidato" (change)="onCheckboxChangeCandidato($event)" name="checkBusquedaCandidato" [disabled]="disabledFechas.busquedaCandidatos" />

							<label for="input2" class="input-group-text adjustable-label">Búsqueda de candidatos</label>

							<input type="text" class="form-control" [value]="fechas.busquedaCandidatos" name="busquedaCandidato" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input3" type="checkbox" [(ngModel)]="isCheckedEntrevista" (change)="onCheckboxChangeCandidato($event)" name="checkEntrevista" [disabled]="disabledFechas.entrevista" />

							<label for="input3" class="input-group-text adjustable-label">Entrevista de RR.HH.</label>

							<input type="text" class="form-control" [value]="fechas.entrevista" readonly />
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 d-flex align-items-center">
							<input id="input4" type="checkbox" [(ngModel)]="isCheckedPruebas" (change)="onCheckboxChangeCandidato($event)" name="checkPruebas" [disabled]="disabledFechas.pruebas" />

							<label for="input4" class="input-group-text adjustable-label">Pruebas</label>

							<input type="text" class="form-control" [value]="fechas.pruebas" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input5" type="checkbox" [(ngModel)]="isCheckedReferencias" (change)="onCheckboxChangeCandidato($event)" name="checkReferencias" [disabled]="disabledFechas.referencias" />

							<label for="input5" class="input-group-text adjustable-label">Referencias</label>

							<input type="text" class="form-control" [value]="fechas.referencias" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input6" type="checkbox" [(ngModel)]="isCheckedElaboracionInforme" (change)="onCheckboxChangeCandidato($event)" name="checkElaboracionInforme" [disabled]="disabledFechas.elaboracionInforme" />

							<label for="input6" class="input-group-text adjustable-label">Elaboración de informe</label>

							<input type="text" class="form-control" [value]="fechas.elaboracionInforme" readonly />
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 d-flex align-items-center">
							<input id="input7" type="checkbox" [(ngModel)]="isCheckedEntregaJefe" (change)="onCheckboxChangeCandidato($event)" name="checkEntregaJefe" [disabled]="disabledFechas.entregaJefe" />

							<label for="input7" class="input-group-text adjustable-label">Entrega al jefe solicitante</label>

							<input type="text" class="form-control" [value]="fechas.entregaJefe" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input8" type="checkbox" [(ngModel)]="isCheckedEntrevistaJefatura" (change)="onCheckboxChangeCandidato($event)" name="checkEntrevistaJefatura" [disabled]="disabledFechas.entrevistaJefatura" />

							<label for="input8" class="input-group-text adjustable-label">Entrevista por jefatura</label>

							<input type="text" class="form-control" [value]="fechas.entrevistaJefatura" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input9" type="checkbox" [(ngModel)]="isCheckedTomaDecisiones" (change)="onCheckboxChangeCandidato($event)" name="checkTomaDecisiones" [disabled]="disabledFechas.tomaDecisiones" />

							<label for="input9" class="input-group-text adjustable-label">Toma de decisiones</label>

							<input type="text" class="form-control" [value]="fechas.tomaDecisiones" readonly />
						</div>
					</div>

					<div class="row">
						<div class="col-md-4 d-flex align-items-center">
							<input id="input10" type="checkbox" [(ngModel)]="isCheckedCandidatoSeleccionado" (change)="onCheckboxChangeCandidato($event)" name="checkCandidatoSeleccionado" [disabled]="disabledFechas.candidatoSeleccionado" />

							<label for="input10" class="input-group-text adjustable-label">Candidato seleccionado</label>

							<input type="text" class="form-control" [value]="fechas.candidatoSeleccionado" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input11" type="checkbox" [(ngModel)]="isCheckedProcesoContratacion" (change)="onCheckboxChangeCandidato($event)" name="checkProcesoContratacion" [disabled]="disabledFechas.procesoContratacion" />

							<label for="input11" class="input-group-text adjustable-label">Proceso de contratación</label>

							<input type="text" class="form-control" [value]="fechas.procesoContratacion" readonly />
						</div>

						<div class="col-md-4 d-flex align-items-center">
							<input id="input12" type="checkbox" [(ngModel)]="isCheckedFinContratacion" (change)="onCheckboxChangeCandidato($event)" name="checkFinContratacion" [disabled]="disabledFechas.finProcesoContratacion" />

							<label for="input12" class="input-group-text adjustable-label">Fin del proceso de selección y de contración</label>

							<input type="text" class="form-control" [value]="fechas.finProcesoContratacion" readonly />
						</div>
					</div>

					<div class="px-3">
						<hr />
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="tipoSolicitud">Tipo Proceso</label>

								<select *ngIf="tipoProcesoSaved === ''; else tipoProceso" id="tipoproceso" name="tipoproceso" class="form-select" style="font-size: 14px" [(ngModel)]="model.tipoProceso" (change)="onChangeTipoProceso($event)" required [disabled]="disabledTipoProceso">
									<option value="">Seleccione...</option>

									<option *ngFor="let dato of dataTipoProceso; let i = index" [value]="dato.descripcion" [selected]="i > 0 && model.tipoProceso === dato.descripcion">{{ dato.descripcion }}</option>
								</select>

								<ng-template #tipoProceso>
									<span>{{ model.tipoProceso }}</span>
								</ng-template>
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo" for="flexSwitchCheckChecked">Tipo de fuente</label>

								<div class="form-check form-switch checkbox-container p-0">
									<label class="form-check-label" for="flexSwitchCheckChecked">Interno</label>

									<input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" name="flexSwitchCheckChecked" [(ngModel)]="isChecked" (change)="toggleDivVisibility($event)" />

									<label class="form-check-label" for="flexSwitchCheckChecked">Externo</label>
								</div>
							</div>
						</div>
					</div>

					<div class="row" *ngIf="isDivVisible">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo">Fuente Externa</label>

								<select id="selectOptions" [(ngModel)]="selectedOption" name="selectOptions" class="form-select" style="font-size: 14px" required>
									<option value="">Seleccione...</option>

									<option *ngFor="let option of options" [value]="option.codigo">{{ option.valor }}</option>
								</select>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="input-group mb-3 align-items-center">
								<label class="input-group-text text-start label-estilo2" for="nombre-candidato">Nombre del candidato seleccionado</label>

								<input type="text" [appValidateAlphanumeric]="true" name="nombre-candidato" style="color: black; font-size: 14px; width: 30%" placeholder="Nombre del candidato" [(ngModel)]="nombreCandidato" class="form-control" id="nombre-candidato" />
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>

			<!-- ! Fechas -->
			<app-solicitud-seccion-desplegable titleSummary="Fechas" [isOpen]="true">
				<div>
					<div class="mb-4">
						<h3 class="sol-danger">Reingreso</h3>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label for="input1" class="input-group-text label-estilo">Inicio de proceso</label>

								<input id="input1" type="text" class="form-control" readonly [value]="fechas.reingreso" />
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label for="input2" class="input-group-text label-estilo">Fin de proceso</label>

								<input id="input2" type="text" class="form-control" readonly [value]="fechas.finProceso" />
							</div>
						</div>
					</div>

					<div class="mb-4">
						<h3 class="sol-danger">Contratación de familiares</h3>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label for="input1" class="input-group-text label-estilo">Inicio de proceso</label>

								<input id="input1" type="text" class="form-control" readonly [value]="fechas.contratacionFamiliares" />
							</div>
						</div>

						<div class="col-md-6">
							<div class="input-group mb-3 align-items-center">
								<label for="input2" class="input-group-text label-estilo">Fin de proceso</label>

								<input id="input2" type="text" class="form-control" readonly [value]="fechas.finProcesoFamiliares" />
							</div>
						</div>
					</div>
				</div>
			</app-solicitud-seccion-desplegable>
		</h2>
	</div>
</form>
