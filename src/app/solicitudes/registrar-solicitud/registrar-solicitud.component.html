<form (ngSubmit)="onSubmit()" #SolicitudForm="ngForm" #solicitudForm="ngForm">
  <div class="card">
    <h2 class="card-body text-start">
      <div class="row">
        <div class="col-md-8">
          <div class="mb-3">
            <a (click)="pageSolicitudes()">
              <h3 class="danger">
                <i class="bi bi-arrow-left-circle azul"></i> Bandeja de
                solicitudes
              </h3></a
            >
          </div>
        </div>
        <div class="col-md-4 text-end">
          <button
            type="button"
            type="submit"
            class="btn btn-info me-2 mt-1"
            aria-label="Close"
            [disabled]="!solicitudForm.form.valid"
          >
            <i class="fas fa-save"></i> Guardar
          </button>
          <button
            type="button"
            class="btn btn-info me-2 mt-1"
          >
            <i class="fas fa-check-circle"></i> Completar Tarea
          </button>
          <button
            type="button"
            (click)="onCancel()"
            class="btn btn-info me-2 mt-1"
          >
            <i class="fas fa-times"></i> Registrar luego
          </button>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-3">
          <div class="mb-4">
            <a> <h3 class="danger">Información general</h3></a>
          </div>
        </div>
        <div class="col-md-9">
          <hr />
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipoSolicitud"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de solicitud</label
            >
            &nbsp;
            <span
              #mivar
              id="tipoSolicitud"
              name="idTipoSolicitud"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ solicitud.tipoSolicitud }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipomotivo"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de motivo</label
            >
            &nbsp;
            <span
              id="tipomotivo"
              name="tipomotivo"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ solicitud.tipoMotivo }}</span
            >
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <div class="input-group">
            <label
              class="input-group-text"
              for="codigoposicion"
              style="color: black; font-size: 14px; width: 45%"
            >
              Código de posición
            </label>
            &nbsp;
            <input
              type="text"
              name="codigoposicion"
              [(ngModel)]="model.codigoPosicion"
              style="color: black; font-size: 14px; width: 30%"
              [ngbTypeahead]="searchCodigoPosicion"
              (selectItem)="onSelectItem('codigoPosicion', $event)"
              class="form-control"
              id="codigoposicion"
              aria-describedby="inputGroupPrepend"
              required
              #codigoposicion="ngModel"
            />
            <button class="btn btn-light" type="button" disabled>
              <i class="ti-search"></i>
            </button>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="descripcionposicion"
              style="color: black; font-size: 14px; width: 45%"
              >Descripción de posición</label
            >
            &nbsp;
            <span
              id="descripcionposicion"
              name="descripcionposicion"
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.descrPosicion }}</span
            >
          </div>
        </div>
      </div>
      <div class="row" *ngIf="mostrarSubledger">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="subledger"
              style="color: black; font-size: 14px; width: 45%"
            >
              Subledger
            </label>
            &nbsp;
            <input
              type="text"
              name="subledger"
              [(ngModel)]="model.subledger"
              style="color: black; font-size: 14px; width: 30%"
              [ngbTypeahead]="searchSubledger"
              (selectItem)="onSelectItem('subledger', $event)"
              class="form-control"
              id="subledger"
              aria-describedby="inputGroupPrepend"
              required
              #subledger="ngModel"
            />
            <button class="btn btn-light" type="button" disabled>
              <i class="ti-search"></i>
            </button>
          </div>
        </div>

        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nombreempleado"
              style="color: black; font-size: 14px; width: 45%"
            >
              Empleado
            </label>
            &nbsp;
            <input
              type="text"
              name="nombreempleado"
              [(ngModel)]="model.nombreCompleto"
              style="color: black; font-size: 14px; width: 30%"
              [ngbTypeahead]="searchNombreCompleto"
              (selectItem)="onSelectItem('nombreCompleto', $event)"
              class="form-control"
              id="nombreempleado"
              aria-describedby="inputGroupPrepend"
              #nombreCompleto="ngModel"
              required
            />
            <button class="btn btn-light" type="button" disabled>
              <i class="ti-search"></i>
            </button>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="compania"
              style="color: black; font-size: 14px; width: 45%"
              >Compañía</label
            >
            <span
              id="compania"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.compania }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="unidadnegocio"
              style="color: black; font-size: 14px; width: 45%"
              >Unidad de negocio</label
            >
            <span
              id="unidadnegocio"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.unidadNegocio }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="departamento"
              style="color: black; font-size: 14px; width: 45%"
              >Área/departamento</label
            >
            <span
              id="departamento"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.departamento }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipocargo"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de cargo</label
            >
            <span
              id="cargo"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nombreCargo }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="localidadzona"
              style="color: black; font-size: 14px; width: 45%"
              >Localidad zona</label
            >
            <span
              id="localidadzona"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.localidad }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="niveldirección"
              style="color: black; font-size: 14px; width: 45%"
              >Nivel de dirección</label
            >
            <span
              id="niveldirección"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nivelDir }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="centrocosto"
              style="color: black; font-size: 14px; width: 45%"
              >Centro de costo</label
            >
            <span
              id="centrocosto"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nomCCosto }}</span
            >
          </div>
        </div>
        <div class="col-md-6" *ngIf="mostrarTipoJustificacionYMision">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="misioncargo"
              style="color: black; font-size: 14px; width: 45%"
              >Misión del cargo</label
            >
            <input
              type="text"
              name="misioncargo"
              [(ngModel)]="model.misionCargo"
              class="form-control"
              id="misioncargo"
              #misioncargo="ngModel"
              required
            />
          </div>
        </div>
      </div>
      <div class="row" *ngIf="mostrarTipoJustificacionYMision">
        <div class="col">
          <div class="input-group mb-3 contenedor">
            <label
              class="input-group-text"
              for="justificacion"
              style="color: black; font-size: 14px; width: 22%"
              >Justificación</label
            >
            &nbsp;
            <textarea
              id="justificacion"
              name="justificacion"
              [(ngModel)]="model.justificacionCargo"
              style="color: black; font-size: 14px"
              required
              #justificacion="ngModel"
            ></textarea>
          </div>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Funciones y responsabilidades</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="reporta"
              style="color: black; font-size: 14px; width: 45%"
              >Reporta a</label
            >
            &nbsp;
            <span
              id="reporta"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.reportaA }}
            </span>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="supervisaa"
              style="color: black; font-size: 14px; width: 45%"
              >Supervisa a</label
            >
            &nbsp;
            <span
              id="supervisaa"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.supervisaA }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="tipocontrato"
              style="color: black; font-size: 14px; width: 45%"
              >Tipo de contrato</label
            >
            &nbsp;
            <select
              id="tipocontrato"
              name="tipocontrato"
              class="form-select"
              [(ngModel)]="model.tipoContrato"
              style="font-size: 14px"
              required
            >
              <option selected>Eventual</option>
              <option>Temporal</option>
              <option>Mixto</option>
            </select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="nivelRepa"
              style="color: black; font-size: 14px; width: 45%"
              >Nivel de reporte</label
            >
            &nbsp;
            <span
              id="nivelRepa"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ model.nivelRepa }}</span
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="sueldo"
              style="color: black; font-size: 14px; width: 45%"
              >Sueldo</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldo"
              type="text"
              name="sueldo"
              class="form-control"
              id="sueldo"
            />
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger fs-4">Tipo de variable</h3></a>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="mensual"
              style="color: black; font-size: 14px; width: 45%"
              >Mensual</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldoMensual"
              type="text"
              name="mensual"
              class="form-control"
              id="mensual"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="trimestral"
              style="color: black; font-size: 14px; width: 45%"
              >Trimestral</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldoTrimestral"
              type="text"
              name="trimestral"
              class="form-control"
              id="trimestral"
            />
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="semestral"
              style="color: black; font-size: 14px; width: 45%"
              >Semestral</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldoSemestral"
              type="text"
              name="semestral"
              class="form-control"
              id="semestral"
            />
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group mb-3">
            <label
              class="input-group-text"
              for="anual"
              style="color: black; font-size: 14px; width: 45%"
              >Anual</label
            >
            &nbsp;
            <input
              [(ngModel)]="model.sueldoAnual"
              type="text"
              name="anual"
              class="form-control"
              id="anual"
            />
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Aprobadores de la solicitud</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="accordion" id="accordionExample">
        <div
          *ngFor="
            let nivelItem of dataAprobacionesPorPosicion[keySelected];
            let i = index
          "
          class="accordion-item"
        >
          <h2 class="accordion-header">
            <button
              class="accordion-button"
              type="button"
              data-bs-toggle="collapse"
              [attr.data-bs-target]="'#collapse' + i"
              aria-expanded="true"
              [attr.aria-controls]="'collapse' + i"
              style="display: block"
            >
              <div
                class="row"
                style="align-items: center; justify-content: space-around"
              >
                <div class="col">{{ nivelItem.nivelAprobacionType.ruta }}</div>
                <div class="col">
                  {{
                    nivelItem.aprobador.usuario !== "" &&
                    nivelItem.aprobador.usuario !== undefined &&
                    nivelItem.aprobador.usuario != null
                      ? nivelItem.aprobador.usuario
                      : "No aplica"
                  }}
                </div>
                <div class="col">
                  {{ nivelItem.nivelAprobacionType.nivelAprobacionRuta }}
                </div>
              </div>
            </button>
          </h2>

          <div
            [id]="'collapse' + i"
            class="accordion-collapse collapse"
            [ngClass]="{ show: i === 0 }"
            data-bs-parent="#accordionExample"
          >
            <div class="row mt-2">
              <div class="col">
                <div class="input-group mb-3">
                  <label
                    for="lvl1descripcion"
                    style="color: #0056b3; font-size: 14px; margin: auto auto"
                  >
                    Descripción de la posición
                  </label>
                  &nbsp;
                  <span
                    id="lvl1descripcion"
                    name=""
                    style="color: black; font-size: 14px; margin: auto auto"
                    class="text-center"
                    >{{
                      nivelItem.aprobador.descripcionPosicion !== "" &&
                      nivelItem.aprobador.descripcionPosicion !== undefined &&
                      nivelItem.aprobador.descripcionPosicion != null
                        ? nivelItem.aprobador.descripcionPosicion
                        : "No aplica"
                    }}</span
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Atención de los probadores</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="aprobadoresdinamicos"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Aprobadores dinámicos
            </label>
            &nbsp;
            <span
              id="aprobadoresdinamicos"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.aprobadoresDinamicos }}</span
            >
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="gerenterrhhcorporativo"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Gerente de RRHH Corporativo
            </label>
            &nbsp;
            <span
              id="gerenterrhhcorporativo"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.gerenteRRHHCorporativo }}</span
            >
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col">
          <div class="input-group mb-3">
            <label
              for="comitederemuneraciones"
              style="color: #0056b3; font-size: 14px; margin: auto auto"
            >
              Comité de Remuneraciones
            </label>
            &nbsp;
            <span
              id="comitederemuneraciones"
              name=""
              style="color: black; font-size: 14px; margin: auto auto"
              class="text-center"
              >{{ detalleSolicitud.comiteRemuneraciones }}</span
            >
          </div>
        </div>
      </div>


      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger">Anulación de Solicitud</h3></a>
          </div>
        </div>
        <div class="col-md-8">
          <hr />
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-md-4">
          <div class="mb-4">
            <a> <h3 class="danger fs-4"></h3></a>
          </div>
        </div>
      </div>

      <div class="row" >
        <div class="col">
          <div class="input-group mb-3 contenedor">
            <label
              class="input-group-text"
              for="anular"
              style="color: black; font-size: 14px; width: 22%"
              >¿Anular Solicitud?</label
            >
            &nbsp;
             <!-- aqui  van los check box-->
             <div class="form-check mb-2">
              <input type="radio" id="customRadio1" name="customRadio" class="form-check-input">
              <label class="form-check-label" for="customRadio1">Si</label>
          </div>
          <div class="form-check mb-2">
              <input type="radio" id="customRadio2" name="customRadio" class="form-check-input" checked>
              <label class="form-check-label" for="customRadio2">No</label>
          </div>
          </div>
        </div>
      </div>


      <div class="row" *ngIf="mostrarTipoJustificacionYMision">
        <div class="col">
          <div class="input-group mb-3 contenedor">
            <label
              class="input-group-text"
              for="justificacion"
              style="color: black; font-size: 14px; width: 22%"
              >Comentarios Anulación de Solicitud</label
            >
            &nbsp;
            <textarea
              id="justificacion"
              name="justificacion"
              [(ngModel)]="model.justificacionCargo"
              style="color: black; font-size: 14px"
              required
              #justificacion="ngModel"
            ></textarea>
          </div>
        </div>
      </div>



    </h2>
  </div>
</form>
